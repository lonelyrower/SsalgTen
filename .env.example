# SsalgTen Docker Environment Configuration
# üîí SECURITY: Copy this file to .env and replace ALL placeholder values with secure random keys
# üö® CRITICAL: NEVER commit the .env file to version control!
#
# üîë Quick Setup:
#   1. Copy this file: cp .env.example .env
#   2. Generate secure keys with: python3 -c "import secrets; print('JWT_SECRET=' + secrets.token_hex(32)); print('API_KEY_SECRET=' + secrets.token_hex(32)); print('DEFAULT_AGENT_API_KEY=' + secrets.token_urlsafe(32)); print('UPDATER_TOKEN=' + secrets.token_urlsafe(32)); print('DB_PASSWORD=' + secrets.token_urlsafe(24)); print('REDIS_PASSWORD=' + secrets.token_urlsafe(24))"
#   3. Replace the CHANGE_ME values below with the generated keys
#
# For this deployment, you can use these example keys (generated on 2025-10-05):
# JWT_SECRET=e924ae0574d08827ecdf28a2ebaeab1cda62ad4f2f92d77f14859c8df0143b09
# API_KEY_SECRET=21bec3691f4c62cc35828bf5b6c3ae8b0596db287826447879295abc8c3d9fa1
# DEFAULT_AGENT_API_KEY=1Qfxzzi4Osf55jZTwItfaDBR0xZIqCaYAEyyz_2ybu8
# UPDATER_TOKEN=oojHGVLQ5j7HrvJHfMzXeGQY3P9rQw9zhbKiD_Z_XT4
# DB_PASSWORD=BTtzY94IqRDuncVYvuyULsUuL0fmFeKK
# REDIS_PASSWORD=generate_your_own_with_the_command_above

# Database Configuration
DB_PASSWORD=CHANGE_ME_use_the_generated_keys_above_or_run_the_command
DB_PORT=5432

# Redis Configuration (optional)
REDIS_PASSWORD=CHANGE_ME_use_the_generated_keys_above_or_run_the_command
REDIS_PORT=6379

# JWT Configuration
# üîë MUST be at least 32 characters random hex string
JWT_SECRET=CHANGE_ME_use_the_generated_keys_above_or_run_the_command
JWT_EXPIRES_IN=7d

# API Security Configuration
# üîë MUST be at least 32 characters random hex string
API_KEY_SECRET=CHANGE_ME_use_the_generated_keys_above_or_run_the_command
# CORS_ORIGINÁïôÁ©∫‰ΩøÁî®Êô∫ËÉΩÈªòËÆ§ÂÄºÔºåÊàñÊ†πÊçÆÈúÄË¶ÅËá™ÂÆö‰πâ
# Á§∫‰æã: CORS_ORIGIN=https://yourdomain.com,https://*.yourdomain.com
# CORS_ORIGIN=

# Default Agent Configuration
# üîë MUST be a secure random base64 string
DEFAULT_AGENT_API_KEY=CHANGE_ME_use_the_generated_keys_above_or_run_the_command
# Heartbeat interval: 5 minutes (300000ms) - optimized for 400+ nodes
AGENT_HEARTBEAT_INTERVAL=300000
AGENT_TIMEOUT=10000

# Logging Configuration
LOG_LEVEL=info
ENABLE_MORGAN=true

# External Services
SPEEDTEST_SERVER_ID=auto
DEFAULT_PING_COUNT=4
DEFAULT_TRACEROUTE_MAX_HOPS=30

# Service Ports
BACKEND_PORT=3001
FRONTEND_PORT=80

# App Version (auto-managed by updater script)
APP_VERSION=0.1.0

# Repository info for update checks
REPO_OWNER=lonelyrower
REPO_NAME=SsalgTen
REPO_BRANCH=main

# Updater service (integrated in docker-compose)
UPDATER_URL=http://updater:8765/update
# üîë MUST be a secure random base64 string
UPDATER_TOKEN=CHANGE_ME_use_the_generated_keys_above_or_run_the_command

# Frontend Environment Variables  
VITE_API_BASE_URL=/api
VITE_APP_NAME=SsalgTen Network Monitor
VITE_APP_VERSION=1.0.0
VITE_ENABLE_DEBUG=false

# Map Configuration
# 2D Map Provider: carto (recommended for speed) | openstreetmap (default) | mapbox (needs API key)
VITE_MAP_PROVIDER=carto
VITE_MAP_API_KEY=

# 3D Globe Configuration (Cesium)
# Cesium Ion Token (optional) - For high-quality 3D terrain and imagery
# Get your free token at: https://cesium.com/ion/signup
# Free tier: 50,000 monthly tile loads
# üí° Tip: You can also configure this in System Settings UI after deployment
VITE_CESIUM_ION_TOKEN=

# Agent NYC Configuration
AGENT_NYC_ID=agent-nyc-docker
AGENT_NYC_API_KEY=change-this-nyc-api-key
AGENT_NYC_NAME=New York Node (Docker)
AGENT_NYC_COUNTRY=United States
AGENT_NYC_CITY=New York
AGENT_NYC_PROVIDER=Docker Container
AGENT_NYC_LATITUDE=40.7128
AGENT_NYC_LONGITUDE=-74.0060
AGENT_NYC_PORT=3002

# Agent London Configuration (optional)
AGENT_LONDON_ID=agent-london-docker
AGENT_LONDON_API_KEY=change-this-london-api-key
AGENT_LONDON_NAME=London Node (Docker)
AGENT_LONDON_COUNTRY=United Kingdom
AGENT_LONDON_CITY=London
AGENT_LONDON_PROVIDER=Docker Container
AGENT_LONDON_LATITUDE=51.5074
AGENT_LONDON_LONGITUDE=-0.1278
AGENT_LONDON_PORT=3003

# Network Configuration for Agents
PING_COUNT=4
TRACEROUTE_MAX_HOPS=30
MTR_COUNT=10
# Heartbeat interval: 5 minutes (300000ms) - optimized for 400+ nodes
HEARTBEAT_INTERVAL=300000
MAX_CONCURRENT_TESTS=5

# Data Retention Settings
# How often to cleanup old data (in hours) - default: 1 hour
CLEANUP_INTERVAL_HOURS=1
# How long to keep heartbeat logs (in days) - default: 1 day (24 hours)
HEARTBEAT_RETENTION_DAYS=1

# ============================================================================
# üîí SECURITY SETTINGS (Important for Production)
# ============================================================================

# Agent Signature Verification
# üîí RECOMMENDED: Set to true in production to require HMAC signature verification
# This prevents unauthorized agents from sending fake data to your backend
# Default: false (for easier development setup)
AGENT_REQUIRE_SIGNATURE=false

# Agent TLS Configuration
# ‚ö†Ô∏è CRITICAL WARNING: NEVER set to true in production!
# Only use this in development environments with self-signed certificates
# Setting this to true disables TLS certificate verification (insecure!)
# AGENT_TLS_INSECURE=false

# Database URL (auto-generated by Docker Compose, do not modify)
# DATABASE_URL=postgresql://postgres:${DB_PASSWORD}@db:5432/ssalgten
